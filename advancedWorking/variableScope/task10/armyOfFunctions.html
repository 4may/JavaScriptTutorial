<!DOCTYPE html>
<script>
    'use strict';

    function makeArmy()
    {
        let shooters = [];

        let i = 0;
        while(i < 10)
        {
            /*
            alert(i)だと全てのshooterオブジェクト間でiの値が共通となってしまう
            (同じlexical environmentを参照してしまう)
            */
            let j = i; //primitive型は値渡し。毎ループ毎に新しいlexical environmentが作成される
            let shooter = function()
            {
                alert(j);
            };
            shooters.push(shooter);
            i++;
        }

        return shooters;
    }

    let army = makeArmy();

    army[0]();
    army[5]();
</script>