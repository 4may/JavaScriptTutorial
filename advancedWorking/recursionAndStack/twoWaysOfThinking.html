<!DOCTYPE html>
<script>
    'use strict';

    /*
    再帰呼び出し
    */
    function pow(x, n)
    {
        if(n == 1)
        {
            return x;
        }
        else
        {
            return x * pow(x, n - 1);
        }
        //以下のように一行で書くことも可能
        //return (n == 1) ? x : x * pow(x, n - 1);
    }

    alert(pow(2, 3)); //8

    /*
    再帰呼び出し
    ・contextとstackを使って処理情報を管理
    　・context : 変数の値、処理が切り替わる行番号
    　・stack : contextが積まれていく
    例)pow(2, 3)
    ・{ x = 2, n = 3, at line 16 }というコンテキストがつまれる
    ・{ x = 2, n = 2, at line 16 }というコンテキストが追加で積まれる
    ・{ x = 2, n = 1, at line 8 }というコンテキストが追加で積まれる
    ・n=1となった時点でのスタックのなかみは以下の通り
    { x = 2, n = 1, at line 8 }
    { x = 2, n = 2, at line 16 }
    { x = 2, n = 3, at line 16 }
    ・あとは、スタックの上から順にコンテキストが取り出されxが計算される。
    　その際に、使用済みのコンテキストはメモリから破棄される。

    このように、再帰呼び出し時には必要なメモリがループ処理に比べて多い。
    が、短く簡潔に処理を記述できるためメンテがしやすい。
    再帰呼び出しとループ、それぞれを使い分けよう。
    */
</script>