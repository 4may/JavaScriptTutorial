<!DOCTYPE html>
<script>
    'use strict';

    let dictionary = Object.create(null);
    //create文の中で作ってしまう手もある
    let dictionaryAnswer = Object.create(null,
    {
        //descriptorはデフォでenumerable:falseであるため、明示的に書かなくても良い
        toString : 
        {
            //オブジェクトプロパティと一緒の書き方ができる
            value()
            {
                //joinはデフォがカンマセパレート
                return Object.keys(this).join();
            }
        }
    }
    );

    Object.defineProperty(dictionary, "toString", 
    {
        value : function()
        {
            return Object.keys(this).join(',');
        },
        writable : true,
        enumerable : false,
        configurable : true
    })

    dictionary.apple = "Apple";
    dictionary.__proto__ = "test";
    alert(Object.keys(dictionary));

    for(let key in dictionary)
    {
        alert(key); //"apple" → "__proto"
    }

    alert(dictionary); //"apple,__proto__"
</script>