<!DOCTYPE html>
<script>
    'use strict';

    function getMaxSubSum(arr)
    {
        let max = 0;
        let sum = 0;
        let globalMax = 0;
        for(let i = 0; i < arr.length; i++)
        {
            if(arr[i] > 0)
            {
                sum = arr[i];
                max = arr[i];
                for(let j = i + 1; j < arr.length; j++)
                {
                    sum += arr[j];
                    if(sum > max) max = sum;
                }
                if(max > globalMax) globalMax = max;
            }
        }

        return globalMax;
    }

    /*
    最大部分配列問題
    */
    function fast(arr)
    {
        let maxSum = 0;
        let particalSum = 0;

        for(let item of arr)
        {
            particalSum += item;
            maxSum = Math.max(maxSum, particalSum);
            if(particalSum < 0) particalSum = 0;
        }

        return maxSum;
    }

    alert(getMaxSubSum([-1, 2, 3, -9]));
    alert(getMaxSubSum([2, -1, 2, 3, -9]));
    alert(getMaxSubSum([-1, 2, 3, -9, 11]));
    alert(getMaxSubSum([-2, -1, 1, 2]));
    alert(getMaxSubSum([100, -9, 2, -3, 5]));
    alert(getMaxSubSum([1, 2, 3]));
    alert(getMaxSubSum([-1, -2, -3]));
</script>