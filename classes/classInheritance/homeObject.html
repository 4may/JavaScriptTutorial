<!DOCTYPE html>
<script>
    'use strict';

    /*
    thisの仕組みだけでは、継承関係にある関数を呼び出せないため、
    JSでは[[HomeObject]]という特殊な関数用の内部プロパティを用意している。
    クラス/オブジェクトのメソッドを定義した際、そのメソッドの[[HomeObject]]は定義したクラス/オブジェクトとなる。
    superでは、このHomeObjectを参照して処理する。
    */
    let animal = 
    {
        name : "Animal",
        eat() //animal.eat.[[HomeObject]] == animal
        {
            alert(`${this.name} eats.`);
        }
    };

    let rabbit =
    {
        __proto__ : animal,
        name : "Rabbit",
        eat() //rabbit.eat.[[HomeObject]] == rabbit
        {
            super.eat();
        }
    };

    let longEar = 
    {
        __proto__ : rabbit,
        name : "Long Ear",
        eat() //longEar.eat.[[HomeObject]] == longEar
        {
            super.eat();
        }
    };

    longEar.eat();
</script>