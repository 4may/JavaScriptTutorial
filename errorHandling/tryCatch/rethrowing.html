<!DOCTYPE html>
<script>
    'use strict';

    /*
    既知のエラーはログに残し、エラーとしない。
    未知のエラーは上位にrethrowsする。
    */
    function readData()
    {
        let json = `{"age": 30}`;
        try
        {
            let user = JSON.parse(json);
            
            if(!user.name)
            {
                throw new SyntaxError("Incomplete data : no name");
            }

            blabla();

            alert(user.name);
        }
        catch(err)
        {
            if(err.name == "SyntaxError")
            {
                alert("JSON ERROR: " + err.message);
            }
            else
            {
                //rethrow
                throw err;
            }
        }
    }

    try
    {
        readData();
    }
    catch(err)
    {
        alert("External catch got:" + err);
    }
</script>