<!DOCTYPE html>
<script>
    'use strict';

    /*
    Promise<any>を返すことで、チェインの途中でも非同期処理を行うことが出来る。
    */
    new Promise(function(resolve, reject)
    {
        setTimeout(() => resolve(1), 1000);
    })
    .then(function(result)
    {
        alert(result); //1

        return new Promise((resolve, reject) =>
        {
            setTimeout(() => resolve(result * 2), 1000);
        });
    })
    .then(function(result)
    {
        alert(result); //2

        return new Promise((resolve, reject) => 
        {
            setTimeout(() => resolve(result * 2), 1000);
        });
    })
    .then(function(result)
    {
        alert(result); //4
    });
</script>